{"version":3,"sources":["Components/AddBar.js","Components/Task.js","Components/TaskList.js","Redux/types.js","Redux/actions.js","App.js","reportWebVitals.js","Redux/tasksReducer.js","Redux/store.js","index.js"],"names":["FormGroup","styled","form","Input","input","Button","props","color","AddBar","useState","value","setValue","onSubmit","event","preventDefault","handleSubmit","type","placeholder","onChange","target","TaskDec","div","Text","p","GroupOfButton","button","disabled","left","oneButton","Task","isEdit","setIsEdit","handleClick","a","handleUpdate","task","_id","title","onClick","disable","handleDelete","Tasks","TaskList","tasks","length","map","index","SET_TASKS","token","getTasks","dispatch","fetch","method","res","json","data","tmp","d","payload","console","log","addTasks","headers","body","JSON","stringify","alert","deleteTasks","id","editTasks","Header","App","handleValidation","fields","formIsValid","match","useSelector","state","useDispatch","useEffect","as","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","action","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a69222b7.chunk.js","sourcesContent":["import styled from 'styled-components'\nimport React, { useState } from 'react'\nimport PropTypes from 'prop-types'\n\nconst FormGroup = styled.form`\n  text-align: center;\n  margin-top: 20px;\n`;\n\nconst Input = styled.input`\n    padding: 10px;\n    width: 30%;\n    border: 2px solid rgba(235, 234, 234, .7);\n    border-radius: 5px 0px 0px 5px;\n`;\n\nconst Button = styled.input`\n    padding: 10px;\n    width: 70px;\n    background-color: ${props => props.color ? props.color : null};\n    color: white;\n    border-color: transparent;\n    border-radius: 0px 5px 5px 0px;\n    cursor: pointer;\n    opacity: 0.8;\n    &:hover {\n        opacity: 1;\n    }\n`;\n\nconst AddBar = (props) => {\n\n    const [value, setValue] = useState('');\n\n    const handleChange = (event) => {\n        setValue(event.target.value)\n    }\n\n    const handleClick = (event) => {\n        event.preventDefault();\n        props.handleSubmit(value);\n        setValue('');\n    }\n\n    return (\n        <>\n            <FormGroup onSubmit={handleClick}>\n                <Input type=\"text\" placeholder=\"Enter some plan\" value={value} onChange={handleChange} />\n                <Button type=\"submit\" value=\"Add\" color=\"#00a48e\" />\n            </FormGroup>\n        </>\n    );\n}\n\nAddBar.propTypes = {\n    color: PropTypes.string,\n    handleSubmit: PropTypes.func.isRequired\n}\n\nexport default AddBar;\n","import styled from 'styled-components'\nimport { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport React from 'react'\n\nconst TaskDec = styled.div`\n    width: 40%;\n    height: 60px;\n    padding: 10px;\n    border: 2px solid rgba(235, 234, 234, .7);\n    border-radius: 5px;\n    margin-top: 10px;\n    margin-left: auto;\n    margin-right: auto;\n    display: flex;\n    justify-content: space-between;\n`;\n\nconst Text = styled.p`\n    padding: 2px;\n    padding-left: 10px;\n`;\n\nconst GroupOfButton = styled.div`\n    padding-right: 10px;\n    margin-top: auto;\n    margin-bottom: auto;\n`;\n\nconst Button = styled.button`\n    background-color: ${props => props.color ? props.color : null};\n    border-color: transparent;\n    color: white;\n    cursor: ${props => props.disabled ? \"not-allowed\" : \"pointer\"};\n    opacity: ${props => props.disabled ? 0.3 : 0.8};\n    border-radius: ${props => props.left ? \"5px 0px 0px 5px\" : props.oneButton ? \"5px\" : \"0px 5px 5px 0px\"};\n    padding: 10px;\n    width: 70px;\n    height: 45px;\n    &:hover {\n        opacity: 1;\n    }\n`;\n\nconst Input = styled.input`\n    width: 90%;\n    height: 40px;\n    margin: auto;\n    margin-left: 10px;\n    margin-right: 20px;\n    border: 2px solid rgba(235, 234, 234, .7);\n    border-radius: 5px;\n`;\n\nconst Task = (props) => {\n\n    const [isEdit, setIsEdit] = useState(false);\n\n    const handleClick = async () => {\n        if (await props.handleUpdate(props.task._id, value)) {\n            setIsEdit(false)\n        }\n    }\n\n    const handleChange = (event) => {\n        setValue(event.target.value)\n    }\n\n    const [value, setValue] = useState(props.task.title);\n\n    return (\n        <TaskDec>\n            { isEdit ?\n                <>\n                    <Input value={value} onChange={handleChange} />\n                    <GroupOfButton>\n                        <Button oneButton onClick={handleClick} color=\"#00a48e\">Update</Button>\n                    </GroupOfButton>\n                </>\n                :\n                <>\n                    <Text>{props.task.title}</Text>\n                    <GroupOfButton>\n                        <Button disable={isEdit} left onClick={() => { setIsEdit(true); setValue(props.task.title); }} color=\"#00a48e\">Edit</Button>\n                        <Button color=\"red\" onClick={() => props.handleDelete(props.task._id)}>Delete</Button>\n                    </GroupOfButton>\n                </>\n            }\n        </TaskDec>\n    );\n}\n\nTask.propTypes = {\n    color: PropTypes.string,\n    disabled: PropTypes.bool,\n    left: PropTypes.string,\n    oneButton: PropTypes.bool,\n    task: PropTypes.object.isRequired,\n    handleDelete: PropTypes.func.isRequired,\n    handleUpdate: PropTypes.func.isRequired\n}\n\nexport default Task;\n","import styled from 'styled-components'\nimport Task from '../Components/Task'\nimport PropTypes from 'prop-types'\nimport React from 'react'\n\nconst Tasks = styled.div`\n    margin-top: 70px;\n`;\n\nconst TaskList = (props) => {\n\n    return (\n        <Tasks>\n            {props.tasks.length > 0 ?\n                props.tasks.map((task, index) => {\n                    return (\n                        <Task key={index} task={task} handleDelete={props.handleDelete} handleUpdate={props.handleUpdate} />\n                    )\n                })\n                :\n                null\n            }\n        </Tasks >\n    );\n}\n\nTaskList.propTypes = {\n    tasks: PropTypes.array.isRequired,\n    handleDelete: PropTypes.func.isRequired,\n    handleUpdate: PropTypes.func.isRequired\n}\n\nexport default TaskList;\n","export const SET_TASKS = 'SET_TASKS'","import { SET_TASKS } from './types'\n\nconst token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjBiOWVhODQyZDQxZGEyNzMyYjcyMWIzIiwiaWF0IjoxNjIzMDY2NjgzLCJleHAiOjE2MjU2NTg2ODN9.DSzvo92GqJgssKvw8PZfl9alZ0IZK9xwqyQ9RpuUYO8\"\n\nexport const setTasks = (task) => ({\n    type: SET_TASKS,\n    payload: task\n});\n\nexport const getTasks = () => async (dispatch) => {\n    try {\n        var res = await fetch(\"http://206.189.89.204/app/no_auth/todos\", {\n            method: \"GET\",\n        });\n        var data = await res.json()\n        var tmp = data.data.map((d) => {\n            return { _id: d._id, title: d.title }\n        })\n        dispatch(setTasks(tmp))\n    } catch (e) {\n        console.log(e)\n    }\n};\n\nexport const addTasks = (value) => async (dispatch) => {\n    try {\n        var res = await fetch(\"http://206.189.89.204/app/with_auth/todos\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`\n            },\n            body:\n                JSON.stringify({ title: value })\n        });\n        var data = await res.json()\n        console.log(data)\n    } catch (e) {\n        alert(e)\n    }\n    dispatch(getTasks());\n}\n\nexport const deleteTasks = (id) => async (dispatch) => {\n    try {\n        var res = await fetch(`http://206.189.89.204/app/with_auth/todos/${id}`, {\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`\n            }\n        });\n        var data = await res.json()\n        console.log(data)\n    } catch (e) {\n        alert(e)\n    }\n    dispatch(getTasks());\n}\n\nexport const editTasks = (id, value) => async (dispatch) => {\n    try {\n        var res = await fetch(`http://206.189.89.204/app/with_auth/todos/${id}`, {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`\n            },\n            body:\n                JSON.stringify({ title: value })\n        });\n        var data = await res.json()\n        console.log(data)\n    } catch (e) {\n        alert(e)\n    }\n    dispatch(getTasks());\n}","import './App.css';\nimport styled from 'styled-components'\nimport React, { useEffect } from 'react'\n\nimport AddBar from './Components/AddBar';\nimport TaskList from './Components/TaskList';\n\nimport { addTasks, getTasks, deleteTasks, editTasks } from \"./Redux/actions\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nconst Header = styled.div`\n    text-align: center;\n`;\n\nfunction App() {\n\n  const handleValidation = (value) => {\n\n    let fields = value\n    let formIsValid = true;\n\n    if (fields !== \"\") {\n      if (!fields.match(/^[a-zA-Z0-9ก-๏ ]+$/)) {\n        alert(\"The entered data must be A-Z, a-z, Thai letters and numbers 0-9 only\")\n        formIsValid = false;\n      }\n      if (fields.length < 2 || fields.length > 50) {\n        alert(\"Minimum length 2 maximum length 50\")\n        formIsValid = false;\n      }\n    } else {\n      alert(\"The entered data cannot be null\")\n      formIsValid = false;\n    }\n\n    return formIsValid\n  }\n\n  const handleSubmit = async (value) => {\n    if (handleValidation(value)) {\n      dispatch(addTasks(value))\n      // setTasks([...tasks, value])\n    }\n  }\n\n  const tasks = useSelector((state) => state.tasks);\n  const dispatch = useDispatch();\n  console.log(tasks)\n\n  useEffect(async () => {\n    dispatch(getTasks());\n  }, [])\n\n  const handleDelete = async (id) => {\n    dispatch(deleteTasks(id))\n    // setTasks(tasks.filter((_task, i) => i != index))\n  }\n\n  const handleUpdate = async (id, value) => {\n    if (handleValidation(value)) {\n      console.log(id)\n      dispatch(editTasks(id, value));\n      return true;\n      // setTasks(tasks.slice(0, index).concat([value].concat(tasks.slice(index + 1, tasks.length))))\n    } else {\n      return false;\n    }\n  }\n\n  return (\n    <div>\n      <Header as=\"h1\">\n        {\"What's the Plan for Today?\"}\n      </Header>\n      <AddBar handleSubmit={handleSubmit} />\n      <TaskList tasks={tasks} handleDelete={handleDelete} handleUpdate={handleUpdate} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { SET_TASKS } from \"./types\"\n\nconst initialState = {\n    tasks: []\n}\n\nexport const tasksReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_TASKS: {\n            return {\n                ...state,\n                tasks: action.payload\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}\n\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport { tasksReducer } from './tasksReducer'\nimport thunk from 'redux-thunk'\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport const store = createStore(tasksReducer, composeEnhancers(applyMiddleware(thunk)))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from \"react-redux\"\nimport { store } from './Redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}